More changes for File 3.

Stashed changes.